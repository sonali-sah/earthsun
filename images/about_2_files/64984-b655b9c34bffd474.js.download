"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[64984],{36997:(e,t,a)=>{a.d(t,{O:()=>r});var n=a(981278);let r=e=>{let{pathname:t}=(0,n.useRouter)();return{isAllowedPages:e.some(e=>t.includes(e))}}},64984:(e,t,a)=>{a.d(t,{x:()=>$});var n=a(926114),r=a(360662),i=a(477222),s=a(82078),m=a(498848),o=a(867666),l=a(236165),d=a(301872),p=a(878524),c=a(238990),u=a(568880),g=a(455729),_=a(406029),y=a(461266),f=a(213304),I=a(571024),S=a.n(I);let v=S()(()=>Promise.all([a.e(10382),a.e(3530)]).then(a.bind(a,340602)).then(e=>({default:e.CompLicensingDialog})),{loadableGenerated:{webpack:()=>[340602]},ssr:!1}),F=e=>{let{isOpen:t,...a}=e;return(0,f.G)(t)&&(0,_.jsx)(v,{isOpen:t,...a})},b=S()(()=>Promise.all([a.e(27510),a.e(10382),a.e(77618),a.e(6838),a.e(737),a.e(42282),a.e(25133)]).then(a.bind(a,527075)).then(e=>({default:e.CompLicensingDrawer})),{loadableGenerated:{webpack:()=>[527075]},ssr:!1}),h=e=>{let{isOpen:t,...a}=e;return(0,f.G)(t)&&(0,_.jsx)(b,{isOpen:t,...a})},G=S()(()=>a.e(55459).then(a.bind(a,611755)).then(e=>({default:e.CompLicensingSnackbar})),{loadableGenerated:{webpack:()=>[611755]},ssr:!1}),A=e=>{let{isOpen:t,...a}=e;return(0,f.G)(t)&&(0,_.jsx)(G,{isOpen:t,...a})};var R=a(263739);let k=function(){let{licensingError:e={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{t}=(0,u.Bd)(n.mAv);return{cancel:t("common:actions_cancel"),downloadComp:t("common:actions_download_comp"),enterpriseCompLicense:t("ent:license_enterprise_comp"),genericErrorMessage:t("ent:license_now_error_message"),licensingError:(0,R.KC)({error:e,t}),licenseSuccess:t("ent:confirmation_alert_message"),licenseFormLabels:{buttonLabel:t("common:actions_download_comp"),disclaimer:(0,_.jsx)(u.x6,{i18nKey:"ent:comp_disclaimer",ns:n.mAv,components:{bold:(0,_.jsx)("strong",{})}}),addMetadataToAsset:t("ent:add_metadata_to_asset_comp"),metadataFound:t("ent:previous_metadata_found_comp"),metadataMissing:t("ent:previous_metadata_missing_comp"),title:t("ent:add_metadata_to_comp")}}},w=e=>{let{assets:t=null,compLicensingHandler:a,isDialogOpen:n=!1,isDrawerOpen:r=!1,isLicensing:i=!1,isSnackBarOpen:s=!1,licensingError:m=y.vB,onDialogClose:o,onDrawerClose:l,onSnackbarClose:d,selectedAssetSize:p="",setSelectedAssetSize:c,settingsData:u=y.vB}=e,g=k({licensingError:m});return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(F,{assets:t,isOpen:n,onClose:o,onLicense:a,labels:g,isLicensing:i,selectedAssetSize:p,setSelectedAssetSize:c,settingsData:u}),(0,_.jsx)(h,{assets:t,isLicensing:i,isOpen:r,labels:g,onClose:l,onLicense:a,selectedAssetSize:p}),(0,_.jsx)(A,{isOpen:s,message:g.licensingError,onClose:d})]})};var C=a(214236);let $=function(){var e;let{allowMetadata:t=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a,_]=(0,g.useState)(null),[y,f]=(0,g.useState)(""),[I,S]=(0,g.useState)(""),[v,F]=(0,g.useState)(!1),[b,h]=(0,g.useState)(!1),[G,A]=(0,g.useState)(!1),{isLicensing:R,licensingError:k,licensingStatus:$,setLicensingStatus:T,licensingAssetsHandler:q}=(0,d.mA)(),V=(0,s.$)(),{data:z}=(0,p.M)(),O=(0,l.Y)(z),x=(0,r.Q)(),{t:N}=(0,u.Bd)(n.EJ3),M=N("file_name_edited"),{getSearchContext:P}=(0,m.J)(),U=(0,c.O)(),{queueIpReview:D}=(0,o.F)({trackingId:null==(e=P())?void 0:e.search_tracking_id,onComplete:U}),E=(0,g.useCallback)(async e=>{let{assets:t=[],assetSize:a,eventLabel:n,format:r,metadata:i,pageSection:s,listId:m}=e;f(t[0].id);let o=!1;try{let e=await (0,C.lw)({assets:t,assetSize:a,format:r,metadata:i,selectedAssetSize:I}),{data:o}=await q(e);if(!((0,C.CN)(t)&&1===t.length)){var l,d;let e=(0,C.sD)(t)?O:void 0,a=(null==x||null==(l=x.current)?void 0:l.isPeacock)?e=>{var a;return x.current.downloader.resolveUrl(t[0],e,M,null==o||null==(a=o.meta)?void 0:a.licensedContent)}:void 0;await (0,C.jZ)({assets:t,compSize:e,licensedContent:null==o||null==(d=o.meta)?void 0:d.licensedContent,downloader:a}),V({assets:t,eventLabel:n,isRedownload:!1,isQuickDownload:!1,isPaid:!1,isComp:!0,pageSection:s,listId:m})}}catch(e){o=e}return D(t),f(""),o&&!b&&A(!0),{error:o}},[b,O,q,V,I,M,x,D]),j=(0,g.useCallback)(async e=>{let{assets:a,assetSize:n,format:r,eventLabel:s,metadata:m,pageSection:o,listId:l}=e;return(_(a),T(""),!v&&(0,i.wy)(a))?(F(!0),Promise.resolve(null)):!b&&(null==z?void 0:z.requireMetadataForComp)&&!m&&t?(n&&S(n),h(!0),Promise.resolve(null)):E({assets:a,assetSize:n,eventLabel:s,format:r,metadata:m,pageSection:o,listId:l})},[t,E,v,b,z,T]),B=(0,g.useMemo)(()=>({assets:a,compLicensingHandler:j,compLicensingRequest:E,isDialogOpen:v,isDrawerOpen:b,isLicensing:R,isSnackBarOpen:G,licensingError:k,onDialogClose:()=>F(!1),onDrawerClose:()=>h(!1),onSnackbarClose:()=>A(!1),selectedAssetSize:I,setSelectedAssetSize:S,settingsData:z}),[a,j,E,v,b,R,G,k,I,z]);return{assetsToLicense:a,compLicensingHandler:j,compLicensingProps:B,CompLicensingViews:w,licensingAssetId:y,licensingStatus:$}}},119640:(e,t,a)=>{a.d(t,{nQ:()=>E,EH:()=>M,Nz:()=>N,D3:()=>z,lp:()=>U,Cn:()=>O,qE:()=>x,P5:()=>P,Z2:()=>j,LV:()=>D});var n=a(563609);let r=JSON.parse('{"id":"32cd42c0f658e4328d24f4f816722b29c69a85ea1d35b562f1c411d77eca2580","type":"mutation","name":"ApplyTransparencyMask","source":"mutation ApplyTransparencyMask($sourceAssetId:SourceAssetId!,$mask:String!,$maskType:MaskType!){initiateGenerationResponse:applyTransparencyMask(sourceAssetId:$sourceAssetId mask:$mask maskType:$maskType){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),i=JSON.parse('{"id":"3e8512ec304af5f86006e05da8b81453a88c174bee15734d829c32857aaadc95","type":"mutation","name":"GenerateImageInpainting","source":"mutation GenerateImageInpainting($sourceAssetId:SourceAssetId!,$limit:Int!,$mask:String!,$maskType:MaskType!,$text:String){initiateGenerationResponse:generateImageInpainting(sourceAssetId:$sourceAssetId limit:$limit mask:$mask maskType:$maskType text:$text){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),s=JSON.parse('{"id":"e69c542448400b3e764d11d0ebdbbc3ea820d84f4a5101f6dc895fab16d542d7","type":"mutation","name":"GenerateImageVariations","source":"mutation GenerateImageVariations($sourceAssetId:SourceAssetId!,$limit:Int!){initiateGenerationResponse:generateImageVariations(sourceAssetId:$sourceAssetId limit:$limit){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),m=JSON.parse('{"id":"0cb9d769f32751cb4d8a8c14fbe3a503b52ef9ec1988648f9e427ea018065029","type":"mutation","name":"InitiateTextToImageGeneration","source":"mutation InitiateTextToImageGeneration($formatId:GeneratedImageFormatId,$limit:Int!,$text:String!,$additionalOptions:JSONObject,$aspectRatio:GeneratedImageAspectRatio,$language:String,$locale:String,$styleId:ID,$referenceImages:[ReferenceImageInput!]){initiateGenerationResponse:generateImagesFromText(formatId:$formatId limit:$limit text:$text additionalOptions:$additionalOptions aspectRatio:$aspectRatio language:$language locale:$locale styleId:$styleId referenceImages:$referenceImages){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),o=JSON.parse('{"id":"e2be9babadfc364acb1207f1a0eac2c6e9f705f6440a8e7ed0a82dc7ec64ffd6","type":"mutation","name":"GenerateImageZoomOut","source":"mutation GenerateImageZoomOut($sourceAssetId:SourceAssetId!,$limit:Int!,$additionalOptions:JSONObject){initiateGenerationResponse:generateZoomedOutImages(sourceAssetId:$sourceAssetId limit:$limit additionalOptions:$additionalOptions){data{...TrackingResponseFragment __typename}problems{__typename message}__typename}}fragment TrackingResponseFragment on TrackingResponse{trackingId{svc uuid __typename}__typename}"}'),l=JSON.parse('{"id":"663f6fc8116ba456ad68039ffe41b42583eb4b036865382a3791a7ea8217238f","type":"query","name":"FetchEditsGenerativeInputs","source":"query FetchEditsGenerativeInputs($language:String){generativeInputs{data{imageToVideo{...ImageToVideoInputsFragment __typename}__typename}__typename}}fragment ImageToVideoInputsFragment on GenerativeInputsForImageToVideo{aspectRatios{id name(language:$language)__typename}__typename}"}'),d=JSON.parse('{"id":"1144edab98928ff1db32609ce35dfbac69b57c3ed348124120ec3e44e110d6b9","type":"query","name":"fetchGeneratedImageReviewStatus","source":"query fetchGeneratedImageReviewStatus($assetId:ID!){generatedAsset(assetId:$assetId){data{...on GeneratedImage{registeredImage{isIpReviewed referenceIds{name namespace value __typename}__typename}__typename}__typename}__typename}}"}'),p=JSON.parse('{"id":"d74bf749aea19311ffcda0c90e656aa4aac4bfb3be9e84eac8f69d1a51bd2662","type":"query","name":"fetchGenerationHistory","source":"query fetchGenerationHistory($request:AssetGenerationHistoryInput,$language:String){generationHistory(request:$request){data{...GenerationStatusFragment requestTime __typename}paginationInfo{currentPage totalPages totalCount __typename}__typename}}fragment GenerationStatusFragment on AssetGenerationStatus{assets{...GeneratedAssetV2Fragment __typename}errorCode generationMetadata{...GenerationMetadataFragment __typename}isPrivate registrationEligibility{canRegister originalImage{...SourceAssetFragment __typename}__typename}status trackingId{...TrackingIdFragment __typename}__typename}fragment GeneratedAssetV2Fragment on GeneratedAssetV2{...on GeneratedImage{...GeneratedImageFragment __typename}...on GeneratedVideo{...GeneratedVideoFragment __typename}__typename}fragment GeneratedImageFragment on GeneratedImage{id displayPrompt position small{...GeneratedImageSourceFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...GeneratedImageSourceFragment __typename}__typename}fragment GeneratedImageSourceFragment on GeneratedImageSource{src height width __typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment GeneratedVideoFragment on GeneratedVideo{id displayPrompt small{...GeneratedVideoSourceFragment __typename}watermarked{...GeneratedVideoSourceFragment __typename}__typename}fragment GeneratedVideoSourceFragment on GeneratedVideoSource{fps resolution{...GraphVideoResolution __typename}src __typename}fragment GraphVideoResolution on VideoResolution{height width __typename}fragment GenerationMetadataFragment on GenerationMetadata{__typename...on TextToImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}referenceImages{image{...SourceAssetFragment __typename}type __typename}style{...StyleBasicFragment __typename}text __typename}...on ImageVariationGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on ZoomedOutImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on InpaintingImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}maskDriven text __typename}...on ImageRemoveObjectsGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}__typename}...on ApplyTransparencyMaskGenerationMetadata{additionalOptions sourceAsset{...SourceAssetFragment __typename}__typename}...on ImageToVideoGenerationMetadata{additionalOptions videoAspectRatio:aspectRatio{...VideoAspectRatioFragment __typename}images{...SourceAssetFragment __typename}text __typename}}fragment AspectRatioFragment on GeneratedImageAspectRatioResponse{id name(language:$language)__typename}fragment SourceAssetFragment on SourceAssetImage{__typename...on GeneratedAsset{...GeneratedAssetFragment __typename}...on GeneratedImage{...GeneratedImageFragment __typename}...on CreativeImage{...CreativeImageFragment __typename}...on UserImage{...UserImageFragment __typename}}fragment GeneratedAssetFragment on GeneratedAsset{id displayPrompt small{...ImageSourceSizeFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...ImageSourceSizeFragment __typename}__typename}fragment ImageSourceSizeFragment on AssetSource{src height width __typename}fragment CreativeImageFragment on CreativeImage{__typename classicId description isAdult isIllustration isVector is3dSpinner isGenerated channels contentTier{id __typename}contentTiers thumbnailImageUrlTemplate secureWatermarkImageUrl sellableImageSizes{...on SellableCreativeImageJpgSize{...SellableCreativeImageJpgSizeFragment __typename}...on SellableCreativeImageVectorSize{...SellableCreativeImageVectorSizeFragment __typename}__typename}aspect metadataStatus{mainStatus qualifierStatus __typename}keywords}fragment SellableCreativeImageJpgSizeFragment on SellableCreativeImageJpgSize{__typename name displayName format dpi height{inchesLabel centimetersLabel pixels __typename}width{inchesLabel centimetersLabel pixels __typename}}fragment SellableCreativeImageVectorSizeFragment on SellableCreativeImageVectorSize{__typename name displayName format}fragment UserImageFragment on UserImage{__typename productId height width thumbnailUrl imageVariants{size500 size1500 __typename}}fragment VideoAspectRatioFragment on GeneratedVideoAspectRatioResponse{id name(language:$language)__typename}fragment TrackingIdFragment on TrackingId{svc uuid __typename}"}'),c=JSON.parse('{"id":"c0ca378d75257191b0c956bee935183df46ccf7f07b433f95e825c60d6704af1","type":"query","name":"fetchGenerationResults","source":"query fetchGenerationResults($id:String!,$language:String){generationStatus(trackingId:{uuid:$id}){data{...GenerationStatusFragment __typename}problems{__typename message}__typename}}fragment GenerationStatusFragment on AssetGenerationStatus{assets{...GeneratedAssetV2Fragment __typename}errorCode generationMetadata{...GenerationMetadataFragment __typename}isPrivate registrationEligibility{canRegister originalImage{...SourceAssetFragment __typename}__typename}status trackingId{...TrackingIdFragment __typename}__typename}fragment GeneratedAssetV2Fragment on GeneratedAssetV2{...on GeneratedImage{...GeneratedImageFragment __typename}...on GeneratedVideo{...GeneratedVideoFragment __typename}__typename}fragment GeneratedImageFragment on GeneratedImage{id displayPrompt position small{...GeneratedImageSourceFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...GeneratedImageSourceFragment __typename}__typename}fragment GeneratedImageSourceFragment on GeneratedImageSource{src height width __typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment GeneratedVideoFragment on GeneratedVideo{id displayPrompt small{...GeneratedVideoSourceFragment __typename}watermarked{...GeneratedVideoSourceFragment __typename}__typename}fragment GeneratedVideoSourceFragment on GeneratedVideoSource{fps resolution{...GraphVideoResolution __typename}src __typename}fragment GraphVideoResolution on VideoResolution{height width __typename}fragment GenerationMetadataFragment on GenerationMetadata{__typename...on TextToImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}referenceImages{image{...SourceAssetFragment __typename}type __typename}style{...StyleBasicFragment __typename}text __typename}...on ImageVariationGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on ZoomedOutImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}text __typename}...on InpaintingImageGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}maskDriven text __typename}...on ImageRemoveObjectsGenerationMetadata{additionalOptions aspectRatio{...AspectRatioFragment __typename}format{...FormatFragment __typename}sourceAsset{...SourceAssetFragment __typename}style{...StyleBasicFragment __typename}__typename}...on ApplyTransparencyMaskGenerationMetadata{additionalOptions sourceAsset{...SourceAssetFragment __typename}__typename}...on ImageToVideoGenerationMetadata{additionalOptions videoAspectRatio:aspectRatio{...VideoAspectRatioFragment __typename}images{...SourceAssetFragment __typename}text __typename}}fragment AspectRatioFragment on GeneratedImageAspectRatioResponse{id name(language:$language)__typename}fragment SourceAssetFragment on SourceAssetImage{__typename...on GeneratedAsset{...GeneratedAssetFragment __typename}...on GeneratedImage{...GeneratedImageFragment __typename}...on CreativeImage{...CreativeImageFragment __typename}...on UserImage{...UserImageFragment __typename}}fragment GeneratedAssetFragment on GeneratedAsset{id displayPrompt small{...ImageSourceSizeFragment __typename}styles{...StyleBasicFragment __typename}watermarked{...ImageSourceSizeFragment __typename}__typename}fragment ImageSourceSizeFragment on AssetSource{src height width __typename}fragment CreativeImageFragment on CreativeImage{__typename classicId description isAdult isIllustration isVector is3dSpinner isGenerated channels contentTier{id __typename}contentTiers thumbnailImageUrlTemplate secureWatermarkImageUrl sellableImageSizes{...on SellableCreativeImageJpgSize{...SellableCreativeImageJpgSizeFragment __typename}...on SellableCreativeImageVectorSize{...SellableCreativeImageVectorSizeFragment __typename}__typename}aspect metadataStatus{mainStatus qualifierStatus __typename}keywords}fragment SellableCreativeImageJpgSizeFragment on SellableCreativeImageJpgSize{__typename name displayName format dpi height{inchesLabel centimetersLabel pixels __typename}width{inchesLabel centimetersLabel pixels __typename}}fragment SellableCreativeImageVectorSizeFragment on SellableCreativeImageVectorSize{__typename name displayName format}fragment UserImageFragment on UserImage{__typename productId height width thumbnailUrl imageVariants{size500 size1500 __typename}}fragment VideoAspectRatioFragment on GeneratedVideoAspectRatioResponse{id name(language:$language)__typename}fragment TrackingIdFragment on TrackingId{svc uuid __typename}"}'),u=JSON.parse('{"id":"dd7c4e0766944a9e2089eff96aed9775db5af508e5df61f95d6d4b91574afd27","type":"query","name":"fetchGenerativeAccountDetails","source":"query fetchGenerativeAccountDetails($requestTypes:[GenerationType!]){generativeAccountDetails{data{credits{...GenerativeCredits __typename}features(requestTypes:$requestTypes){data{requestType features{isPrivateGenerationsEnabled isProModeEnabled __typename}__typename}problems{...ProblemFragment __typename}__typename}__typename}problems{...ProblemFragment __typename}__typename}}fragment GenerativeCredits on GenerativeCreditsResponseWrapper{data{usesCredits creditsInfo{nextRenewalDate totalCreditsRemaining __typename}__typename}problems{...ProblemFragment __typename}__typename}fragment ProblemFragment on Problem{__typename message}"}'),g=JSON.parse('{"id":"b5eb1044b0d2af8cdaf7974f560e2bd898170a81a9b976946f7471b77dc26704","type":"query","name":"FetchGenerativeUpsellInfo","source":"query FetchGenerativeUpsellInfo{generativeUpsellInfo{data{purchasableProducts{...PurchasableProductsFragment __typename}upsellType __typename}problems{__typename message}__typename}}fragment PurchasableProductsFragment on GenerativeProductVariation{credits description extraInformation id name price prices{usd eur aud jpy gbp dkk chf sek rub brl cad krw nok sgd inr __typename}__typename}"}'),_=JSON.parse('{"id":"f3533d5ba9ab1903e354aa673a4d2c910ce97dc1747b95e0d44ce064612b23b9","type":"query","name":"fetchImageFormatsAndStyles","source":"query fetchImageFormatsAndStyles($size:Int,$language:String,$format:GeneratedImageFormatId!,$selectedStyles:[ID!]){generatedImageFormats{...FormatFragment __typename}generatedImageStyles(where:{formatId:$format,limit:$size,existingStyleIds:$selectedStyles}){...StyleBasicFragment __typename}}fragment FormatFragment on GeneratedImageFormat{id name(language:$language)__typename}fragment StyleBasicFragment on GeneratedImageStyle{id format{...FormatFragment __typename}name(language:$language)exemplarAsset{thumbnailImageUrlTemplate __typename}__typename}"}'),y=JSON.parse('{"id":"8b3053fe7980955724b2f22bd7abf82b007032731caa5784c63b445c77c2fe93","type":"query","name":"fetchThreeDUtilization","source":"query fetchThreeDUtilization($startDate:DateTime!,$endDate:DateTime!,$step:ThreeDUtilizationTimeUnit!,$apiClientIdList:[String!]){generationThreeDUtilization(request:{startDate:$startDate,endDate:$endDate,step:$step,api_client_id_list:$apiClientIdList}){usageBreakdown{date creditUtilization data{workflow mode usageSummary{totalRequests successfulRequests failedRequests averageResponseTimeMs __typename}creditUtilization __typename}__typename}__typename}}"}'),f=JSON.parse('{"id":"502c88b377a868a5528b64247c9f6bfaed73919e6baf4dce73a71292776e135c","type":"query","name":"fetchUpscalingStatus","source":"query fetchUpscalingStatus($assetId:AssetIdInput!){upscalingStatus(assetId:$assetId){data{status __typename}__typename}}"}');var I=a(17563),S=a(962316),v=a(965461),F=a(82281);let{publicRuntimeConfig:{apiEndpoints:b}}=a.n(F)()(),{TextToImage:h,Variation:G,ZoomOut:A,InPaint:R,ImageRemoveObjects:k,ApplyTransparencyMask:w,TextTo_3D:C,ImageTo_3D:$,ImageToVideo:T}=I.jz,q={[h]:m.source,[G]:s.source,[A]:o.source,[R]:i.source,[w]:r.source,[k]:"",[C]:"",[$]:"",[T]:""},V=e=>{let{generationType:t}=e;return t===h?n.YY:n.BY},z=e=>{let{brand:t,experiments:a,generationId:r,headers:i,locale:s}=e,m={id:r,...s&&{language:s}};return{query:c.source,variables:m,formattedRequest:{url:`${b.graphGateway}/graphql`,document:c.source,variables:m,requestHeaders:{...(0,v.C)({brand:t,experiments:a,page:"generate",appName:n.C3}),...i}}}},O=e=>{let{brand:t,experiments:a,headers:r,generationType:i}=e,s=i?{requestType:i}:void 0;return{query:u.source,variables:s,formattedRequest:{url:`${b.graphGateway}/graphql`,document:u.source,variables:s,requestHeaders:{...(0,v.C)({brand:t,experiments:a,page:"generate",appName:n.C3}),...r}}}},x=e=>{let{brand:t,experiments:a,headers:r}=e;return{query:g.source,variables:void 0,formattedRequest:{url:`${b.graphGateway}/graphql`,document:g.source,variables:void 0,requestHeaders:{...(0,v.C)({brand:t,experiments:a,page:"generate",appName:n.C3}),...r}}}},N=e=>{let{assetId:t,brand:a,experiments:n,headers:r}=e,i={assetId:t};return{query:d.source,variables:i,formattedRequest:{url:`${b.graphGateway}/graphql`,document:d.source,variables:i,headers:{...(0,v.C)({brand:a,experiments:n,page:"generate"}),...r}}}},M=e=>{let{brand:t,experiments:a,format:r,headers:i={},locale:s,selectedStyles:m,size:o}=e,l={format:r&&r!==I.Jv.None?r:I.Jv.All,language:s,...o?{size:o}:{},...m?{selectedStyles:[].concat(m)}:{}};return{query:_.source,variables:l,formattedRequest:{url:`${b.graphGateway}/graphql`,document:_.source,variables:l,requestHeaders:{...(0,v.C)({brand:t,experiments:a,page:"generate",appName:n.C3}),...i},timeout:(0,S.NF)()?350:6e3}}},P=e=>{let{additionalOptions:t,aspectRatio:a,assetId:r,experiments:i,brand:s,format:m,generationType:o,headers:l={},limit:d,locale:p,mask:c,maskType:u,prompt:g,referenceImages:_,sourceAssetType:y,styles:f}=e,S=m||f||o!==I.jz.TextToImage?m:I.Jv.None,F=I.fz.GeneratedImage;y===I.fz.CreativeImage&&(F=I.fz.CreativeImage),y===I.fz.UserImage&&(F=I.fz.UserImage);let h={limit:d||V({generationType:o}),...g&&{text:g},...p&&{language:p},...S&&{formatId:S},...f&&{styleId:f},...a&&{aspectRatio:a},...r&&{sourceAssetId:{id:r,type:F}},...u&&{maskType:u},...c&&{mask:c},...t&&{additionalOptions:t},..._&&{referenceImages:_}},G=q[o];return{query:G,variables:h,formattedRequest:{url:`${b.graphGateway}/graphql`,document:G,variables:h,requestHeaders:{...(0,v.C)({brand:s,experiments:i,page:"generate",appName:n.C3}),...l}}}},U=e=>{let{experiments:t,limit:a,order:r,headers:i={},brand:s,appName:m=n.C3,locale:o,from:l,searchTerm:d}=e,c={request:{searchTerm:d,limit:a,order:r,status:I.HM.Completed,resultsAfter:l},language:o};return{query:p.source,variables:c,formattedRequest:{url:`${b.graphGateway}/graphql`,document:p.source,variables:c,requestHeaders:{...(0,v.C)({brand:s,experiments:t,page:"generate",appName:m}),...i}}}},D=e=>{let{assetId:t,brand:a,headers:r={},page:i}=e,s={assetId:t};return{query:f.source,variables:s,formattedRequest:{url:`${b.graphGateway}/graphql`,document:f.source,variables:s,requestHeaders:{...(0,v.C)({brand:a,page:i,appName:n.C3}),...r}}}},E=e=>{let{brand:t,experiments:a,headers:r,locale:i}=e,s={language:i};return{query:l.source,variables:s,formattedRequest:{url:`${b.graphGateway}/graphql`,document:l.source,variables:s,requestHeaders:{...(0,v.C)({brand:t,experiments:a,page:"peacock",appName:n.JY}),...r}}}},j=e=>{let{experiments:t,brand:a,startDate:r,endDate:i,step:s,apiClientIdList:m}=e,o={startDate:r,endDate:i,step:s,apiClientIdList:m};return{query:y.source,variables:o,formattedRequest:{url:`${b.graphGateway}/graphql`,document:p.source,variables:o,requestHeaders:{...(0,v.C)({brand:a,experiments:t,page:"generate",appName:n.C3})}}}}},214236:(e,t,a)=>{a.d(t,{CN:()=>f,e4:()=>c,jZ:()=>u,lw:()=>y,sD:()=>I});var n=a(516969),r=a(487519),i=a(813631),s=a(485650),m=a(556879),o=a(531648),l=a(559044),d=a(931058),p=a(531950);let c=async e=>{let{assets:t,compSize:a,licensedContent:n,supplementalUrlType:i}=e,{downloadUrl:s,contentId:o,contentFormat:d,contentSize:c,supplementalUrls:u}=n[0]||{};if((null==u?void 0:u.length)&&i){let{url:e=s}=u.find(e=>{let{type:t}=e;return t===i})||{};return e}let g=t.find(e=>{let{id:t}=e;return t===o})||{},_=(0,l.f0)(g),{filename:y,shouldUpdateFilename:f}=(0,m.V)({assets:t,contentId:o});if(f)try{let{data:e}=await p.Bn.post((0,r.Xt)().formattedUrl,{data:[{media_id:g.id,media_type:_,comp_size:a,media_size:c,media_format:d,filename:y}]}),{attributes:t}=(null==e?void 0:e.data[0])||{};return t.url||s}catch(e){}return s},u=async e=>{let{assets:t=[],compSize:a,assetSize:r,licensedContent:i=[],downloader:s=d.Bx}=e;if(i.length>1){let e=(0,m.P)({assets:t,licensedContent:i}),a=(0,n.E)({urlParams:{filename:e.bundleFilename}}).formattedUrl,{data:r}=await p.a8.post(a,e.content),{public_url:o}=r;return s(o)}return s(await c({assets:t,compSize:a,assetSize:r,licensedContent:i}))},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map(e=>{let t=(0,o.xB)({asset:e});return{...e,assetType:t,licenseId:s.H8E[t]}})},_=async()=>{let{url:e}=(0,r.PX)();try{return(await p.Bn.get(e).then(e=>null==e?void 0:e.data)).reduce((e,t)=>({...e,[t.name]:"-"}),{})}catch(e){return{}}},y=async function(){let{assets:e,assetSize:t,format:a,metadata:n,selectedAssetSize:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=n;return i||(i=await _()),{assets:g(e),format:a||"",licenseMetadata:i,licensingType:s.jO3,selectedAssetSize:t||r||"",isVideoComp:!0}},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,o.ZC)({asset:e[0]||{}})===i.FY},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[i.vo,i.W1,i.kc].includes((0,o.ZC)({asset:e[0]||{}}))}},236165:(e,t,a)=>{a.d(t,{Y:()=>i});var n=a(727542),r=a(30721);let i=e=>{let{data:t}=(0,r.rA)();return(0,n.l)({user:t})?null==e?void 0:e.compSizeImage:null==e?void 0:e.compSizeSubImage}},238990:(e,t,a)=>{a.d(t,{O:()=>v});var n=a(406029),r=a(687534),i=a(926114),s=a(36997),m=a(758018),o=a(648973),l=a(727326),d=a(515729),p=a(323069),c=a(461266),u=a(568880),g=a(455729),_=a(807703),y=a(50634);let f=e=>{let{t,isOpen:a=!1,onClose:n=c.lQ,labelTrack:r}=e,i=(0,y.A)().replace(/-/g,""),s=()=>n(i);return{id:i,alertAction:{label:t("ai_review_process_snackbar:close"),onClick:s},setEntered:()=>{},alertSeverity:o.rD,handleSnackbarClose:s,message:t("ai_review_process_snackbar:text"),labelTrack:r,noAutoHide:!1,isOpen:a}},I=(0,_.n9)()(e=>{let{tokens:{font:t,color:a}}=e;return{linkView:{textDecoration:"underline",fontSize:t.size.s,color:a.white,cursor:"pointer"}}}),S=e=>{let{t}=e,{classes:a}=I();return(0,n.jsx)(r.A,{component:"p",children:(0,n.jsx)(u.x6,{ns:i.PeN,i18nKey:"ai_review_process_snackbar:text",components:{linkView:(0,n.jsx)(m.N,{href:"/catalog/ai-review",linkAs:"/catalog/ai-review",className:a.linkView,"data-automation":"view_ai_review_statuses_link"})},t:t})})},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,{isBrandEnterprise:t}=(0,p.P)(),{enqueueSnackbar:a,dequeueSnackbar:r}=(0,d.d)(),{t:m}=(0,u.Bd)(t?i.PeN:""),{isAllowedPages:o}=(0,s.O)(["/generate","/image-generated","/ai-image-generator/history"]),c=t&&o;return(0,g.useCallback)(()=>{let t=f({t:m,labelTrack:l.wju,isOpen:c,onClose:r});setTimeout(()=>{a({...t,message:(0,n.jsx)(S,{t:m})})},e)},[e,m,c,r,a])}},301872:(e,t,a)=>{a.d(t,{mA:()=>j});var n=a(487519),r=a(648973),i=a(813631),s=a(669670),m=a(705992),o=a(485650),l=a(930500),d=a(581298),p=a(573923),c=a(116835),u=a(531648),g=a(263739),_=a(402463),y=a(529862),f=a(788098),I=a(48007),S=a(324975),v=a(560325),F=a(788969),b=a(198795),h=a(323069),G=a(559044),A=a(531950),R=a(455729);let k=e=>{var t;let{assets:a}=e,n=(0,G.f0)(a[0]);return{include:"subscriptions",content_type:(0,u.Uw)({assetType:n,assetId:null==(t=a[0])?void 0:t.id}),content_ids:a.reduce((e,t)=>[...e,t.id.toString()],[]).join(",")}},w=e=>{let{assets:t}=e,a={};return t.forEach(e=>{let t=(0,G.f0)(e),n=(0,u.Uw)({assetId:e.id,assetType:t});a[n]=[...a[n]?a[n]:[],e]}),a},C=e=>{let{assetEligibility:t}=e,{permittedLicenses:a,subscriptions:n}=t;return null==n?void 0:n.filter(e=>{let{license:t}=e;return a.includes(t.replace("_unlimited",""))})},$=e=>{var t;let{assets:a=[],user:r}=e;return null==(t=Object.values(w({assets:a})))?void 0:t.map(e=>{let t=k({assets:e}),{formattedUrl:a}=(0,n.kE)({urlParams:{licenseeIdentifier:`organization-${null==r?void 0:r.organizationId}`},queryParams:t});return A.Bn.get(a)})},T=e=>{let{data:t}=e,a=[];return t.map(e=>{let t=e.id.split("-"),n=t[t.length-1],r=C({assetEligibility:e});return a.push({assetId:n,subscriptions:r})}),a};var q=a(30721),V=a(355790),z=a(586694),O=a(884378),x=a(953736),N=a(811407),M=a(333691),P=a(594495);let U={[o.jO3]:n.DH,[o.miZ]:n.E6},D=e=>{let{asset:t,subscriptions:a}=e,n=(0,u.ZC)({asset:t}),{licenseId:r,contentTier:s}=t;switch(n){case i.G_:return(0,S.N)({assetType:i.G_,subscriptions:[...(null==a?void 0:a.videoSubscriptions)??[],...(null==a?void 0:a.videoCompSubscriptions)??[]],selectedLicenseId:r});case i.on:case i.FY:return(0,v.A)({subscriptions:[...a.musicSubscriptions,...a.musicCompSubscriptions],licenseName:t.licenseId});case i.M9:return(0,v.A)({subscriptions:[...a.sfxSubscriptions,...a.sfxCompSubscriptions],licenseName:t.licenseId});case i.uH:return(0,v.A)({subscriptions:[...a.editorialImageSubscriptions,...a.editorialImageCompSubscriptions,...a.editorialVideoSubscriptions,...a.editorialVideoCompSubscriptions],licenseName:t.licenseId,contentTier:s});case i.W1:default:return(0,v.A)({subscriptions:[...a.imageSubscriptions,...a.imageCompSubscriptions],licenseName:t.licenseId,contentTier:s})}},E=e=>{let{asset:t,subscriptions:a}=e,n=D({asset:t,subscriptions:a});return(0,I.t)({subscription:n})?{...n,creditPrice:i.Mp,creditType:l.EV}:n},j=()=>{let{isBrandEnterprise:e}=(0,h.P)(),{data:t}=(0,V.R7)(),[a,n]=(0,R.useState)(!1),[l,I]=(0,R.useState)(""),[v,G]=(0,R.useState)({}),{data:k}=(0,q.rA)(),[,w]=(0,x.Ry)(e=>e),C=(0,z.Jz)(),{analytics:D}=(0,z.pn)(),j=(0,p.cv)(D),B=(0,f.H)(j),J=C||(0,N.vb)(),L=(0,F.i)(),H=(0,b.Z)(),Z=(0,P.mj)(),{locale:Y}=(0,d.Y)(),{sendOrderConfirmationEmails:K}=(0,M.k)();return{isLicensing:a,licensingAssetsHandler:(0,R.useCallback)(async a=>{var l,d,p,f,v;let F,b,{alreadyLicensedAssets:h=[],assets:R=[],cartMetadata:C={},format:q="",licenseeMetadata:V={},isVideoComp:z=!1,licenseMetadata:x={},licensingType:N,selectedAssetSize:M=""}=a,P=async()=>{let a=T({data:(await Promise.all($({assets:R,user:k}))).map(e=>{let{data:t}=e;return(0,O.A)(t)}).flat()}),n=R.map(async e=>{let t=(0,u.ZC)({asset:e}),{licenseId:n}=e,{subscriptions:r}=(null==a?void 0:a.find(t=>{let{assetId:a}=t;return a===String(e.id)}))||{},{id:m,license:o}=(0,S.N)({assetType:t,subscriptions:r,selectedLicenseId:n})||{},l=await (0,c.og)({asset:e,format:q,selectedAssetSize:M,licenseName:o,isVideoComp:z});return{...l,...M&&_.N[M]&&{comp_size:M},...t===i.M9&&{override_filename:`${s.wT}_${e.id}.${q||l.content_format}`},...t===i.m$&&{content_provider:i._Y},license_name:o,show_modal:!0,subscription_id:m}});return{licensingPayload:{content:await Promise.all(n),license_metadata:x,required_cookies:"",decode_hadron_ids:e},orderMetadata:R.map(e=>{let{currency:a,description:n,descriptionLanguageMap:r={},id:i,itemType:s,headline:m,licenseId:o,preview:l={},price:d,priceType:p,src:c,thumb:u,thumbImageUrl:g,title:_,type:y}=e,f=a,I=d,S=p;if(!f||!I||!S){let{creditCurrency:a,creditPrice:n,creditType:r}=E({asset:e,subscriptions:t});f=f||a,I=I||n,S=p||r}return f&&!F&&(F=f),S&&!b&&(b=S),{description:r[Y]||n,formattedPrice:H({price:I,localeCurrencyOverride:f,priceType:S}),headline:m,id:i,itemType:s,licenseId:o,licenseName:Z({licenseName:o}),price:I,priceType:S,thumbnailSrc:c||g||l.url||u,title:_,type:y}})}};try{n(!0),I("");let{licensingPayload:e,orderMetadata:t}=await P(),a=U[N]({urlParams:{licenseeIdentifier:`organization-${null==k?void 0:k.organizationId}`}}).formattedUrl,i=(null==e||null==(l=e.content)?void 0:l.length)>=45,s={...(0,y.H)({trackingId:J,...B?{headers:{[m.ed]:B}}:{}}),...i?{timeout:3e4}:{}},c=await A.Bn.post(a,e,s);if(L({assets:R}),w({assets:R,metadata:C,licensedContent:(null==(p=(0,O.A)(c.data))||null==(d=p.meta)?void 0:d.licensedContent)||[]}),!R.some(e=>{let{licenseId:t}=e;return o.t9I.includes(t)})){let e=t.filter(e=>!(0,g.en)({alreadyLicensedAssets:h,asset:e}));K({cartTotalCurrency:F,filteredOrderMetadata:e,licenseMetadata:V,priceType:b})}return I(r.qO),c}catch(a){let e=(0,g.nR)({error:a,user:k}),t=(0,g.A)({assets:R});throw null==(v=window.NREUM)||null==(f=v.addPageAction)||f.call(v,"Enterprise licensing error",{...e,alreadyLicensedAssets:h,assets:R.map(e=>{let{id:t,type:a}=e;return{id:t,type:a}}),cartMetadata:C,format:q,licenseeMetadata:V,licenses:t,isVideoComp:z,licenseMetadata:x,licensingType:N,selectedAssetSize:M}),G(a),I(r.Nz),a}finally{n(!1)}},[k,e,Y,H,Z,t,J,L,w,K,B]),licensingError:v,licensingStatus:l,setIsLicensing:n,setLicensingStatus:I}}},333691:(e,t,a)=>{a.d(t,{k:()=>b});var n=a(926114),r=a(987778),i=a(783913),s=a(149873),m=a(581298),o=a(479677),l=a(198795),d=a(878524),p=a(30721),c=a(519758),u=a(205513),g=a(531950),_=a(963228),y=a(568880),f=a(455729);let I=new RegExp(s.X),S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{emailCartCheckoutConfirmation:t,orderEmail:a}=e;return t&&a?a.split(",").filter(e=>I.test(e)):[]},v=e=>{let{purchaseOrder:t}=e;return`${null==t?void 0:t[0]} : ${null==t?void 0:t[1]}`.split(" ").map(e=>(0,_.Z)(e)).join(" ")},F=e=>{let{t,keys:{currentYear:a,emailAddress:n,purchaseOrder:r}}=e;return{copyright:t("site-footer:copyright",{CURRENT_YEAR:a}),emailSentTo:t("ent:email_sent_to",{EMAIL_ADDRESS:n}),emailSubjectLine:`${t("ent:order_confirmation_email_subject")} | ${v({purchaseOrder:r})}`,name:t("account:profile_name"),needAssistance:t("ent:contact_sales_representative"),orderConfirmation:t("ent:order_confirmation"),purchaseInformation:t("ent:purchase_information_key"),shutterstockAddress:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l2"),shutterstockInc:t("tos:tos_2020_09_04_part_v_24_table_r2_c2_l1"),subtotal:t("ent:order_confirmation_email_subtotal"),thisIsNotAnInvoice:t("ent:not_an_invoice")}},b=()=>{let{t:e}=(0,y.Bd)(n._RK),{data:t}=(0,p.rA)(),{data:a}=(0,c.M)(),{data:s}=(0,d.M)(),{name:_,email:I,phone:v}=(0,u.e)({fetchTrigger:!0})||{},{locale:b,fullLocale:h}=(0,m.Y)(),G=(0,l.Z)();return{sendOrderConfirmationEmails:(0,f.useCallback)(function(){let{cartTotalCurrency:n,filteredOrderMetadata:m,licenseMetadata:l,priceType:d}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=[...(null==a?void 0:a.emailCartCheckoutConfirmation)?[null==t?void 0:t.email]:[],...S(s)];if(p.length&&(null==m?void 0:m.length)){let a=F({t:e,keys:{currentYear:new Date().getFullYear(),emailAddress:null==t?void 0:t.email,purchaseOrder:Object.entries(l)[0],repName:_,repPhoneNumber:v,repEmail:I}});try{let e={cartItems:m,fullName:null==t?void 0:t.fullName,invoiceDate:new Intl.DateTimeFormat(h).format(new Date),labels:a,licenseMetadata:l,repEmail:I,repName:_,repPhoneNumber:v,totalAmount:G({price:(0,o.bc)(m,[]),localeCurrencyOverride:n,priceType:d}),username:null==t?void 0:t.username};g.Y$.post((0,r.J9)().formattedUrl,{emails:[...new Set(p)],emailBody:e,emailSubject:`${a.emailSubjectLine}`,language:b})}catch(e){var c,u,y,f;null==(u=window.NREUM)||null==(c=u.setTransactionName)||c.call(u,`sendOrderConfirmationEmail/${i.o5}`),null==(f=window.NREUM)||null==(y=f.noticeError)||y.call(f,e,{message:`Failed sending order confirmation emails to: ${p.join(", ")}`})}}},[h,b,s,G,I,_,v,e,null==t?void 0:t.email,null==t?void 0:t.fullName,null==t?void 0:t.username,null==a?void 0:a.emailCartCheckoutConfirmation])}}},479677:(e,t,a)=>{a.d(t,{$R:()=>I,Bq:()=>F,HD:()=>y,KS:()=>f,NS:()=>l,Ox:()=>d,bc:()=>b,nu:()=>p,sI:()=>c});var n=a(813631),r=a(514264),i=a(398820),s=a(821790),m=a(263739),o=a(559044);let l=e=>{let{licenseName:t,cartData:a,asset:n}=e;return t?!!(null==a?void 0:a.items.find(e=>e.id===(null==n?void 0:n.id)&&e.licenseId===t)):!!(null==a?void 0:a.items.find(e=>e.id===(null==n?void 0:n.id)))},d=e=>{let{asset:t,unavailableAssets:a}=e;return!a.find(e=>e.contentId===(0,o.qQ)({asset:t})&&e.contentType===t.type)},p=function(){let{errors:e=[]}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.some(e=>i.S_.includes(e))},c=e=>{let{cachedCart:t,newItems:a}=e,n=[...(null==t?void 0:t.items)||[],...a];return{...t,items:n,count:n.length}},u=e=>{let{item:t,licensedAssets:a}=e;return(null==a?void 0:a.find(e=>{let{contentId:a}=e;return a===String(t.id)}))?0:t.isUnlimited?.1:parseFloat(t.price)},g=e=>{let{item1:t={},item2:a={},sortOrder:n,licensedAssets:r}=e,i=u({item:t,licensedAssets:r}),m=u({item:a,licensedAssets:r});return n===s.Zy?i-m:m-i},_=e=>{let{item1:t,item2:a,sortField:n="addedTime",sortOrder:r}=e;return r===s.Zy?Number(new Date(a[n]))-Number(new Date(t[n])):Number(new Date(t[n]))-Number(new Date(a[n]))},y=e=>{let{primaryCart:t,sortField:a,sortOrder:n,alreadyLicensedPrimaryAssets:i}=e;return t.sort((e,t)=>a===r.v3.ADDED_TIME?_({item1:e,item2:t,sortField:a,sortOrder:n}):g({item1:e,item2:t,sortField:a,sortOrder:n,licensedAssets:i}))},f=e=>{var t;let{rolodexAddress:a}=e,[n,r]=(null==(t=a.streetLines)?void 0:t.split("\n"))||[],{locality:i,postalCode:s,region:m,country:o,company:l}=a;return{country:o,company:l,city:i,zip:s,state:m,address1:n,address2:r}},I=e=>{var t;let{billingEntity:a}=e;return(null==a||null==(t=a.rolodexAddresses)?void 0:t.find(e=>{var t;return"licensing"===e.addressType||(null==(t=e.usages)?void 0:t.includes("licensing"))}))||{}},S=e=>{let{asset:t,alreadyLicensedAssets:a}=e;return(null==t?void 0:t.price)===n.Mp||(0,m.en)({alreadyLicensedAssets:a,asset:t})},v=e=>{let{acc:t,asset:a,alreadyLicensedAssets:n}=e;return S({asset:a,alreadyLicensedAssets:n})?t:t+parseFloat(null==a?void 0:a.price)},F=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return t?e.filter(e=>{let{isUnavailableAsset:t}=e;return!t}).reduce((e,a)=>v({acc:e,asset:a,alreadyLicensedAssets:t}),0):0},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return e.every(e=>{let{price:t}=e;return t===n.Mp})?n.Mp:F(e,t)}},556879:(e,t,a)=>{a.d(t,{P:()=>l,V:()=>o});var n=a(559044),r=a(293595);let i="shutterstock",s="shutterstock_editorial",m=e=>{let{asset:t}=e;return(0,n.Uh)(t)?{prefix:"shutterstock_offset",shouldUpdateFilename:!0}:(0,n.zz)({asset:t})?{prefix:s,shouldUpdateFilename:!1}:{prefix:i,shouldUpdateFilename:!1}},o=e=>{let{assets:t,contentId:a}=e,{prefix:n,shouldUpdateFilename:r}=m({asset:t.find(e=>{let{id:t}=e;return t===a})||{}});return{filename:`${n}_${a}`,shouldUpdateFilename:r}},l=e=>{let{assets:t=[],licensedContent:a=[]}=e,m=t.every(e=>(0,n.zz)({asset:e})),l=a.map(e=>{let{contentId:a,downloadUrl:n,contentFormat:r}=e,{filename:i}=o({assets:t,contentId:a}),s=n.split("/").pop().split(".").pop();return(s.length>4||s.length<2)&&(s=r),{filename:`${i}.${s}`,url:n}}),d=(0,r.kX)();return{bundleFilename:`${m?s:i}_${d}.zip`,content:l}}},727542:(e,t,a)=>{a.d(t,{l:()=>r});var n=a(559067);let r=e=>{var t;let{user:a}=e;return null==a||null==(t=a.roles)?void 0:t.includes(n.lc)}},788969:(e,t,a)=>{a.d(t,{i:()=>m});var n=a(573923),r=a(498848),i=a(586694),s=a(455729);let m=()=>{let{analytics:e}=(0,i.pn)(),{getSearchContext:t}=(0,r.J)();return(0,s.useCallback)(a=>{let{assets:r=[]}=a,i=t(r[0]);e.productLicensed({products:r.map(e=>(0,n.Un)({asset:e,shouldGetSearchContextFromAsset:!0})),search_context:i})},[e,t])}},867666:(e,t,a)=>{a.d(t,{F:()=>g});var n=a(119640),r=a(122980),i=a(498917),s=a(786380),m=a(323069),o=a(946131),l=a(529862),d=a(491894);let p=async e=>{let{items:t,trackingId:a,isAppeal:n=!1}=e;0!==t.length&&await (0,d.A)("/message-gateway/ip-review",{method:"POST",requireAuth:!0,...(0,l.H)({trackingId:a}),body:{isAppeal:n,media:t.map(e=>({mediaId:e}))}})};var c=a(293251),u=a(455729);let g=function(){let{trackingId:e="",updateRequestCache:t,onComplete:a=()=>{}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=(0,o.s)("/"),{isBrandEnterprise:d,brand:g}=(0,m.P)(),_=(0,c.jE)();return{queueIpReview:(0,u.useCallback)(async(m,o)=>{if(!d)return;let c=Array.isArray(m)?m:[m],u=c.reduce((e,t)=>(0,i.iu)(t)?[...e,String(t.id)]:e,[]);if(!u.length)return;let y=(await _.fetchQuery({queryKey:(0,s.IF)({assetIds:u}),queryFn:e=>{let{queryKey:t}=e;return(0,s.tz)(l,t)}})).reduce((e,t)=>(null==t?void 0:t.isIpReviewed)===!1&&(null==t?void 0:t.ipReviewStatus)!==r.eG?[...e,t]:e,[]);try{if(y.length){await p({items:y.map(e=>null==e?void 0:e.classicId),trackingId:e,isAppeal:o??!1});let i=y.map(e=>(_.setQueryData(e.queryKey,[{...e,isIpReview:!1,ipReviewStatus:r.eG}]),_.invalidateQueries({queryKey:e.queryKey,predicate:t=>{let{queryKey:a}=t;return a===e.queryKey}}))),{formattedRequest:s}=(0,n.Nz)({brand:g,experiments:{},assetId:""}),m=_.invalidateQueries({exact:!1,queryKey:[{...s,variables:{},headers:{}}],refetchType:"active",predicate:()=>!0});await Promise.all([...t?[t({reviewStatus:r.eG})]:[],...i,m]),a(c)}}catch(t){var f,I;null==(I=window.NREUM)||null==(f=I.noticeError)||f.call(I,t,{message:`Error adding assets to queue for IP review: ${y.map(e=>null==e?void 0:e.classicId).join(", ")}
trackingId: ${e}`})}},[g,d,_,l,e,t,a])}}},987778:(e,t,a)=>{a.d(t,{J9:()=>i,M5:()=>r});var n=a(940252);let r=()=>{let e="/email/ss_premier_sub_account_activation_email";return{url:e,formattedUrl:(0,n.format)({pathname:e})}},i=()=>{let e="/email/premier_cart_confirmation";return{url:e,formattedUrl:(0,n.format)({pathname:e})}}}}]);
//# sourceMappingURL=64984-b655b9c34bffd474.js.map